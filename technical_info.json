{
  "project_structure": {
    "frontend_frameworks": [
      "React 19.2.0",
      "TypeScript 5.9.3",
      "Vite 7.2.4"
    ],
    "backend_frameworks": [
      "Client-side only application",
      "No dedicated backend server"
    ],
    "file_storage_scheme": {
      "local_storage": {
        "enabled": true,
        "max_size": "10MB",
        "purpose": "Project storage with thumbnails and metadata"
      },
      "cloud_storage": {
        "enabled": false
      },
      "fonts_storage": {
        "local": {
          "enabled": false,
          "reason": "Removed to reduce project size",
          "previous_count": "200+ TTF/OTC/FON files"
        },
        "google_fonts": {
          "enabled": true,
          "method": "Direct URL loading from fonts.gstatic.com via Google Fonts API",
          "supported_fonts": [
            "Alex Brush",
            "Anton", 
            "Archivo",
            "Baloo 2",
            "Bebas Neue",
            "Bodoni Moda",
            "Caveat",
            "Commissioner",
            "Comic Neue",
            "Cormorant Garamond",
            "Crimson Pro",
            "Dancing Script",
            "EB Garamond",
            "Fira Code",
            "Fira Sans",
            "Fredoka",
            "Great Vibes",
            "IBM Plex Sans",
            "IBM Plex Serif",
            "Inter",
            "Karla",
            "Kaushan Script",
            "League Gothic",
            "Libre Baskerville",
            "Literata",
            "Manrope",
            "Merriweather",
            "Mulish",
            "Noto Sans",
            "Noto Serif",
            "Nunito",
            "Open Sans",
            "Oswald",
            "Parisienne",
            "Playfair Display",
            "Poppins",
            "PT Sans",
            "PT Serif",
            "Public Sans",
            "Roboto",
            "Sacramento",
            "Satisfy",
            "Source Serif 4",
            "Tangerine",
            "Arial",
            "Arial Narrow",
            "Helvetica",
            "Times New Roman",
            "Georgia",
            "Verdana",
            "Tahoma",
            "Trebuchet MS",
            "Impact",
            "Comic Sans MS"
          ],
          "api": "Google Fonts API with fontkit",
          "fallback_strategy": "System font fallbacks with Google Fonts"
        }
      },
      "generated_files": {
        "client_side": true,
        "immediate_download": true,
        "server_storage": false
      }
    },
    "database_structure": {
      "type": "localStorage",
      "projects_table": {
        "id": "string",
        "name": "string",
        "elements": "array",
        "canvasSize": "number",
        "timestamp": "string (ISO date)",
        "thumbnail": "string (base64)"
      }
    }
  },

  "input_data": {
    "supported_formats": [
      "PNG",
      "JPG",
      "JPEG",
      "SVG"
    ],
    "image_dimensions": {
      "max_processing": "1000x1000px (automatic scaling for large images)",
      "recommended": "< 1000px per side",
      "canvas_size": "100mm square field"
    },
    "fonts": {
      "local_fonts": {
        "enabled": false,
        "reason": "Removed to reduce project size"
      },
      "google_fonts": {
        "enabled": true,
        "direct_urls": true,
        "supported_fonts": [
          "Alex Brush",
          "Anton",
          "Archivo", 
          "Baloo 2",
          "Bebas Neue",
          "Bodoni Moda",
          "Caveat",
          "Commissioner",
          "Comic Neue",
          "Cormorant Garamond",
          "Crimson Pro",
          "Dancing Script",
          "EB Garamond",
          "Fira Code",
          "Fira Sans",
          "Fredoka",
          "Great Vibes",
          "IBM Plex Sans",
          "IBM Plex Serif",
          "Inter",
          "Karla",
          "Kaushan Script",
          "League Gothic",
          "Libre Baskerville",
          "Literata",
          "Manrope",
          "Merriweather",
          "Mulish",
          "Noto Sans",
          "Noto Serif",
          "Nunito",
          "Open Sans",
          "Oswald",
          "Parisienne",
          "Playfair Display",
          "Poppins",
          "PT Sans",
          "PT Serif",
          "Public Sans",
          "Roboto",
          "Sacramento",
          "Satisfy",
          "Source Serif 4",
          "Tangerine"
        ],
        "system_fonts": [
          "Arial", "Arial Narrow", "Baskerville", "Bodoni", "Calibri",
          "Cambria", "Candara", "Carlito", "Comic Sans MS", "DejaVu Sans",
          "Didot", "Franklin Gothic", "Garamond", "Georgia", "Helvetica",
          "Impact", "Microsoft Sans Serif", "Monotype Corsiva", "Sylfaen",
          "Tahoma", "Times New Roman", "Ubuntu", "Verdana"
        ],
        "variants": ["normal", "bold", "italic", "bold-italic"],
        "api": "Google Fonts API with fontkit.js"
      },
      "system_fallbacks": [
        "Arial", "Times New Roman", "Georgia", "Helvetica", "Verdana",
        "Tahoma", "Trebuchet MS", "Impact", "Comic Sans MS"
      ],
      "native_font_support": {
        "description": "System fonts available as fallbacks with Google Fonts API fallbacks",
        "advantages": [
          "Consistent rendering across platforms",
          "No dependency on external loading (for system fonts)",
          "Professional typography quality",
          "Support for cyrillic characters"
        ]
      }
    },
    "text_features": {
      "curved_text": true,
      "circle_text": true,
      "letter_spacing": false,
      "bold_italic": true,
      "flipped_text": true,
      "separate_letters": false,
      "centered_text": true,
      "font_size_range": "1-100mm",
      "cyrillic_support": true
    },
    "layer_support": {
      "png_layers": false,
      "psd_layers": false,
      "svg_groups": true,
      "nested_groups": true,
      "z_index_management": true,
      "element_locking": true
    }
  },

  "output_formats": {
    "generated_formats": [
      "SVG",
      "PNG (with white background)",
      "PNG (transparent)",
      "PDF",
      "ZIP (containing all formats)"
    ],
    "svg_features": {
      "vector_text": true,
      "preserve_transparency": true,
      "preserve_colors": true,
      "preserve_layers": true,
      "font_vectorization": true,
      "circle_text_vectorization": true,
      "svg_optimization": true,
      "standalone_svg": true
    },
    "vectorization_methods": [
      {
        "name": "Potrace WASM",
        "purpose": "Black and white logos",
        "features": [
          "Monochrome vectorization",
          "Threshold adjustment (0-255)",
          "Detail filtering (turdSize 1-10)",
          "Curve optimization",
          "Color customization",
          "Optimized curves (optCurve)"
        ]
      }
    ],
    "text_vectorization": {
      "fontkit": true,
      "real_glyph_paths": true,
      "circular_text_paths": true,
      "separate_letter_paths": true,
      "transform_handling": true,
      "google_fonts_integration": true,
      "direct_url_loading": true,
      "fallback_strategy": "System font fallbacks with Google Fonts"
    }
  },

  "technical_constraints": {
    "generation_location": "client/browser only",
    "library_restrictions": [
      "No restrictions mentioned",
      "fontkit is available",
      "potrace-wasm is supported",
      "All NPM packages allowed"
    ],
    "performance_limits": {
      "max_image_size": "1000x1000px (automatic scaling)",
      "localstorage_limit": "10MB",
      "history_limit": "50 undo steps",
      "canvas_max_dimension": "4000px for PNG export"
    },
    "archiving_support": {
      "jszip_integration": true,
      "multiple_formats_per_export": true,
      "zip_filename_customization": true
    }
  },

  "additional_features": {
    "color_support": {
      "fill_colors": true,
      "stroke_colors": true,
      "stroke_width": true,
      "custom_colors": true,
      "hex_color_codes": true
    },
    "existing_generation_scripts": [
      {
        "file": "src/utils/textToPath.ts",
        "purpose": "Text to SVG path conversion",
        "features": [
          "convertTextToPath()",
          "convertCurvedTextToPath()",
          "Google Fonts direct URL loading",
          "Font caching system",
          "Cyrillic support",
          "fontkit integration",
          "System font fallbacks"
        ]
      },
      {
        "file": "src/utils/vectorize.ts",
        "purpose": "Image vectorization",
        "features": [
          "Potrace WASM integration",
          "Image analysis",
          "Parameter customization (threshold, turdSize)",
          "Color customization",
          "Image suitability detection"
        ]
      },
      {
        "file": "src/utils/export.ts",
        "purpose": "Multi-format export",
        "features": [
          "PNG with/without background",
          "SVG optimization",
          "PDF generation",
          "ZIP archiving",
          "Element export",
          "Editor element exclusion"
        ]
      }
    ],
    "svg_generation_capabilities": {
      "text_to_path": true,
      "curved_text_vectors": true,
      "circle_text_vectors": true,
      "image_vectorization": true,
      "svg_optimization": true,
      "layer_preservation": true,
      "google_fonts_vectorization": true,
      "direct_font_loading": true,
      "cyrillic_support": true
    },
    "archiving_capabilities": {
      "multiple_formats": true,
      "batch_export": true,
      "custom_filenames": true,
      "immediate_download": true
    },
    "project_management": {
      "local_storage": true,
      "project_metadata": true,
      "thumbnail_generation": true,
      "project_import_export": true,
      "project_metadata_storage": true
    }
  },

  "key_libraries": {
    "svg_processing": [
      "fontkit@2.0.4",
      "svgpath@2.6.0"
    ],
    "vectorization": [
      "esm-potrace-wasm@0.4.1"
    ],
    "export_formats": [
      "jsPDF@3.0.4",
      "jszip@3.10.1"
    ],
    "ui_framework": [
      "React@19.2.0",
      "lucide-react@0.554.0",
      "@heroicons/react@2.2.0"
    ],
    "state_management": [
      "zustand@5.0.8"
    ],
    "build_tools": [
      "vite@7.2.4",
      "typescript@5.9.3"
    ],
    "drag_and_drop": [
      "@dnd-kit/core@6.3.1",
      "@dnd-kit/sortable@10.0.0",
      "@dnd-kit/utilities@3.2.2"
    ],
    "type_definitions": [
      "@types/fontkit@2.0.8",
      "@types/opentype.js@1.3.8"
    ]
  },

  "recent_changes": {
    "date": "2025-11-28",
    "major_changes": [
      "Switched from opentype.js to fontkit for font processing",
      "Expanded font support from ~5 to 50+ fonts (system + Google Fonts)",
      "Added cyrillic character support",
      "Enhanced font caching system",
      "Improved fallback font mapping",
      "Updated font loading mechanism via Google Fonts API",
      "Added fontkit integration for better font handling"
    ],
    "font_system_changes": {
      "from": "opentype.js with direct Google Fonts URLs",
      "to": "fontkit with Google Fonts API integration",
      "supported_fonts": [
        "Alex Brush", "Anton", "Archivo", "Baloo 2", "Bebas Neue",
        "Bodoni Moda", "Caveat", "Commissioner", "Comic Neue",
        "Cormorant Garamond", "Crimson Pro", "Dancing Script",
        "EB Garamond", "Fira Code", "Fira Sans", "Fredoka",
        "Great Vibes", "IBM Plex Sans", "IBM Plex Serif", "Inter",
        "Karla", "Kaushan Script", "League Gothic", "Libre Baskerville",
        "Literata", "Manrope", "Merriweather", "Mulish", "Noto Sans",
        "Noto Serif", "Nunito", "Open Sans", "Oswald", "Parisienne",
        "Playfair Display", "Poppins", "PT Sans", "PT Serif",
        "Public Sans", "Roboto", "Sacramento", "Satisfy",
        "Source Serif 4", "Tangerine", "Arial", "Arial Narrow",
        "Helvetica", "Times New Roman", "Georgia", "Verdana",
        "Tahoma", "Trebuchet MS", "Impact", "Comic Sans MS"
      ],
      "advantages": "Better font processing, cyrillic support, more comprehensive font list",
      "limitations": "Slightly larger bundle size due to fontkit library"
    }
  }
}